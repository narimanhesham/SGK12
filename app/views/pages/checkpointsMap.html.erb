<% provide(:title, "Checkpoints Map") %>

<div class="container">
  <div class="row">
    <%= image_tag('checkpointMap.png', class: 'checkpoint-map') %>

    <% @checkpoints.each do |checkpoint| %>
    <%= link_to "", "#", html_options = {:id => Continent.find(checkpoint.continent_id).name, :onclick => "popup('popUpDiv#{checkpoint.id}')"} %>

    <!-- Popup Divs for each checkpoint -->
    <div id="blanket" style="display:none;"></div>
    <%= content_tag "div", id: "popUpDiv#{checkpoint.id}", class: "city-popup-div", style: "display:none;" do %>
      <%= link_to "#", html_options = {:onclick => "popup('popUpDiv#{checkpoint.id}')"} do %>
        <span id="close-popup" class="glyphicon glyphicon-remove pull-right" aria-hidden="true" style="padding-top:5px; padding-right:25px;"></span>
      <% end %> <!-- End of link_to tag -->
      <div class="choose-city">
        <h3 class="text-center clues-text">
          Choose a city:
        </h3>
        <hr>
        <div class="list-group">
          <% @continent = Continent.find(checkpoint.continent_id)
            @cities = @continent.cities 
            # @cities = checkpoint.cities 
            @cities.each do |city| %>
          <%= link_to city.name, "/home/checkpointsMap/play/#{@game.id}/#{checkpoint.id}/#{city.id}", html_options = {:class => "list-group-item"} %>
          <% end %> <!-- End of @cities loop play_path(checkpoint) -->
        </div>
      </div>
      <% end %> <!-- End of @checkpoints loop -->
    <% end %> <!-- End of div content_tag -->

<!-- Hidden links Before adding ruby tags and DB connections

    <a href="checkpointsMap/play" id="USA"></a>
    <a href="" id="USA1"></a>
    <a href="" id="USA2"></a>
    <a href="#" id="France" onclick="popup('popUpDiv')"></a>    
    <a href="" id="BRAZIL"></a>
    <a href="" id="ITALY"></a>
    <a href="" id="CHINA"></a>
    <a href="" id="GERMANY"></a> 
-->

<!-- Blocks with dropdown menues for checkpoints

    <div class="col-xs-6 col-md-4">
      <div> 
        <div class="checkpoint thumbnail">
          <%= image_tag('USA_Flag_Map.png') %> 
          <h4 class="text-center">USA</h4>
          <div class="btn-group">
            <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
              Choose Game City <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li><a href="checkpointsMap/play">New York</a></li>
              <li class="divider"></li>
              <li><a href="#">California</a></li>
              <li class="divider"></li>
              <li><a href="#">Los Angeles</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xs-6 col-md-4">
      <div>
        <div href="#" class="checkpoint thumbnail">
          <%= image_tag('France_map.png') %>
          <h4 class="text-center">France</h4> 
          <div class="btn-group">
            <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
              Choose Game City <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li><a href="#">Paris</a></li>
              <li class="divider"></li>
              <li><a href="#">Marseille</a></li>
              <li class="divider"></li>
              <li><a href="#">Nice</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xs-6 col-md-4">
      <div>
        <div href="#" class="checkpoint thumbnail">
          <%= image_tag('brazil_map.png') %> 
          <h4 class="text-center">Brazil</h4>
          <div class="btn-group">
            <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
              Choose Game City <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li><a href="#">São Paulo</a></li>
              <li class="divider"></li>
              <li><a href="#">Rio de Janeiro</a></li>
              <li class="divider"></li>
              <li><a href="#">Brasília</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xs-6 col-md-4">
      <div>
        <div href="#" class="checkpoint thumbnail">
          <%= image_tag('italy_map.png') %>
          <h4 class="text-center">Italy</h4>
          <div class="btn-group">
            <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
              Choose Game City <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li><a href="#">Rome</a></li>
              <li class="divider"></li>
              <li><a href="#">Milan</a></li>
              <li class="divider"></li>
              <li><a href="#">Venice</a></li>
            </ul>
          </div>           
        </div>
      </div>
    </div>
    <div class="col-xs-6 col-md-4">
      <div>
        <div href="#" class="checkpoint thumbnail">
          <%= image_tag('china_map.png') %>
          <h4 class="text-center">China</h4> 
          <div class="btn-group">
            <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
              Choose Game City <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li><a href="#">Beijing</a></li>
              <li class="divider"></li>
              <li><a href="#">Hong Kong</a></li>
              <li class="divider"></li>
              <li><a href="#">Shanghai</a></li>
            </ul>
          </div>          
        </div>
      </div>
    </div>
    <div class="col-xs-6 col-md-4">
      <div>
        <div href="#" class="checkpoint thumbnail">
          <%= image_tag('Germany_map.png') %> 
          <h4 class="text-center">Germany</h4>
          <div class="btn-group">
            <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
              Choose Game City <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li><a href="#">Berlin</a></li>
              <li class="divider"></li>
              <li><a href="#">Hamburg</a></li>
              <li class="divider"></li>
              <li><a href="#">Munich</a></li>
            </ul>
          </div>          
        </div>          
        </div>
      </div>
    </div>
-->    
  </div>
</div>